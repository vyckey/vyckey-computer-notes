SQL 性能调优

## count(*)、count(1)、count(列名)选哪个？

### 统计意义区别

* **count(*)**：包括了所有的列，相当于行数，在统计结果的时候，**不会忽略列值为NULL**。
* **count(1)**：包括了忽略所有列，用1代表代码行，在统计结果的时候，**不会忽略列值为NULL**。
* **count(列名)**：只包括列名那一列，在统计结果的时候，**会忽略列值为空**的计数，即某个字段值为 `NULL` 时，不统计。

### 执行效率区别

* 列名为主键，`count(列名)` 会比 `count(1)` 快 。
* 列名不为主键，`count(1)` 会比 `count(列名)`快。
* 如果表多个列并且没有主键，则 `count(1)` 的执行效率优于 `count(*)` 。
* 如果有主键，则 `count(主键)` 的执行效率是最优的。
* 如果表只有一个字段，则 `count(*)`最优。

# 参考资料

* [掘金 - 说说count(*)、count(1)、count(列名)有什么区别？](https://juejin.cn/post/6854573219089907720)