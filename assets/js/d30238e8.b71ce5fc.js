"use strict";(self.webpackChunkvyckey_computer_notes=self.webpackChunkvyckey_computer_notes||[]).push([[7384],{56831:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>p,frontMatter:()=>s,metadata:()=>l,toc:()=>c});var i=r(74848),a=r(28453);const s={title:"Jackson Advanced Features",tags:["java","jackson"],sidebar_label:"Advanced Features",sidebar_position:4},t="Jackson Advaned Features",l={id:"library/jackson/jackson_advance",title:"Jackson Advanced Features",description:"\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316Feature",source:"@site/java/library/jackson/jackson_advance.md",sourceDirName:"library/jackson",slug:"/library/jackson/jackson_advance",permalink:"/java/library/jackson/jackson_advance",draft:!1,unlisted:!1,tags:[{label:"java",permalink:"/java/tags/java"},{label:"jackson",permalink:"/java/tags/jackson"}],version:"current",lastUpdatedBy:"vyckey",lastUpdatedAt:174745298e4,sidebarPosition:4,frontMatter:{title:"Jackson Advanced Features",tags:["java","jackson"],sidebar_label:"Advanced Features",sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Annotation Examples",permalink:"/java/library/jackson/annotation_examples"},next:{title:"Polymorphic",permalink:"/java/library/jackson/polymorphic"}},o={},c=[{value:"\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316Feature",id:"\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316feature",level:2},{value:"Map \u7684\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316",id:"map-\u7684\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316",level:2},{value:"<code>Map&lt;Object, Object&gt;</code> \u5e8f\u5217\u5316",id:"mapobject-object-\u5e8f\u5217\u5316",level:3},{value:"\u65b9\u6cd51\uff1a\u4f7f\u7528 <code>@JsonValue</code>",id:"\u65b9\u6cd51\u4f7f\u7528-jsonvalue",level:4},{value:"\u65b9\u6cd52\uff1a\u81ea\u5b9a\u4e49 <code>JsonSerializer</code>",id:"\u65b9\u6cd52\u81ea\u5b9a\u4e49-jsonserializer",level:4},{value:"\u65b9\u6cd53\uff1a\u4f7f\u7528 <code>@JsonKey</code> \u6ce8\u89e3",id:"\u65b9\u6cd53\u4f7f\u7528-jsonkey-\u6ce8\u89e3",level:4},{value:"<code>Map&lt;Object, Object&gt;</code> \u53cd\u5e8f\u5217\u5316",id:"mapobject-object-\u53cd\u5e8f\u5217\u5316",level:3},{value:"\u6309\u6761\u4ef6\u5bf9\u5b57\u6bb5\u8fdb\u884c\u5e8f\u5217\u5316",id:"\u6309\u6761\u4ef6\u5bf9\u5b57\u6bb5\u8fdb\u884c\u5e8f\u5217\u5316",level:2},{value:"@JsonFilter",id:"jsonfilter",level:3},{value:"\u81ea\u5b9a\u4e49JsonSerializer",id:"\u81ea\u5b9a\u4e49jsonserializer",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"jackson-advaned-features",children:"Jackson Advaned Features"}),"\n",(0,i.jsx)(n.h2,{id:"\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316feature",children:"\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316Feature"}),"\n",(0,i.jsx)(n.h2,{id:"map-\u7684\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316",children:"Map \u7684\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316"}),"\n",(0,i.jsxs)(n.h3,{id:"mapobject-object-\u5e8f\u5217\u5316",children:[(0,i.jsx)(n.code,{children:"Map<Object, Object>"})," \u5e8f\u5217\u5316"]}),"\n",(0,i.jsxs)(n.h4,{id:"\u65b9\u6cd51\u4f7f\u7528-jsonvalue",children:["\u65b9\u6cd51\uff1a\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"@JsonValue"})]}),"\n",(0,i.jsxs)(n.p,{children:["\u8ba9\u6211\u4eec\u521b\u5efa\u4e00\u4e2a ",(0,i.jsx)(n.code,{children:"MyPair"})," \u7c7b\u6765\u8868\u793a\u4e00\u5bf9\u76f8\u5173\u7684 ",(0,i.jsx)(n.code,{children:"String"})," \u5bf9\u8c61\u3002\u6211\u4eec\u7528 ",(0,i.jsx)(n.code,{children:"@JsonValue"})," \u6ce8\u91ca ",(0,i.jsx)(n.code,{children:"toString()"})," \u4ee5\u786e\u4fddJackson\u5728\u5e8f\u5217\u5316\u65f6\u4f7f\u7528\u8fd9\u4e2a\u81ea\u5b9a\u4e49\u7684 ",(0,i.jsx)(n.code,{children:"toString()"})," \uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'public class MyPair {\n    private String first;\n    private String second;\n    \n    @Override\n    @JsonValue\n    public String toString() {\n        return first + " and " + second;\n    }\n \n    // standard getter, setters, equals, hashCode, constructors\n}\n'})}),"\n",(0,i.jsxs)(n.h4,{id:"\u65b9\u6cd52\u81ea\u5b9a\u4e49-jsonserializer",children:["\u65b9\u6cd52\uff1a\u81ea\u5b9a\u4e49 ",(0,i.jsx)(n.code,{children:"JsonSerializer"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"public class MyPairSerializer extends JsonSerializer<MyPair> {\n    private ObjectMapper mapper = new ObjectMapper();\n\n    @Override\n    public void serialize(MyPair value, JsonGenerator gen, SerializerProvider serializers) throws IOException, JsonProcessingException {\n        StringWriter writer = new StringWriter();\n        mapper.writeValue(writer, value);\n        gen.writeFieldName(writer.toString());\n    }\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"@JsonSerialize"})," \u6ce8\u91ca\u5c06 ",(0,i.jsx)(n.code,{children:"MyPairSerializer"})," \u5e94\u7528\u4e8e ",(0,i.jsx)(n.code,{children:"Map<MyPair, String>"})," \u3002\u8bf7\u6ce8\u610f\uff0c\u6211\u4eec\u53ea\u544a\u8bc9 Jackson \u5982\u4f55\u5e8f\u5217\u5316 ",(0,i.jsx)(n.code,{children:"MyPair"}),"\uff0c\u56e0\u4e3a\u5b83\u5df2\u7ecf\u77e5\u9053\u5982\u4f55\u5e8f\u5217\u5316 ",(0,i.jsx)(n.code,{children:"String"})," \uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"@JsonSerialize(keyUsing = MyPairSerializer.class) \nMap<MyPair, String> map;\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u7136\u540e\u8ba9\u6211\u4eec\u6d4b\u8bd5\u6211\u4eec\u7684 ",(0,i.jsx)(n.code,{children:"Map"})," \u5e8f\u5217\u5316\uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'Map<MyPair, String> map = new HashMap<>();\nMyPair key = new MyPair("Abbott", "Costello");\nmap.put(key, "Comedy");\n\nString json = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(map);\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u5e8f\u5217\u5316\u7684 JSON \u8f93\u51fa\u4e3a\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "Abbott and Costello" : "Comedy"\n}\n'})}),"\n",(0,i.jsxs)(n.h4,{id:"\u65b9\u6cd53\u4f7f\u7528-jsonkey-\u6ce8\u89e3",children:["\u65b9\u6cd53\uff1a\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"@JsonKey"})," \u6ce8\u89e3"]}),"\n",(0,i.jsxs)(n.p,{children:["\u521b\u5efa ",(0,i.jsx)(n.code,{children:"Map"})," \u65f6\uff0c\u5bf9\u8c61\u53ef\u4ee5\u662f\u952e\u6216\u503c\u3002\u6b64\u5916\uff0c\u5f53\u5bf9\u8c61\u4f5c\u4e3a ",(0,i.jsx)(n.code,{children:"Map"})," \u4e2d\u7684\u952e\u51fa\u73b0\u65f6\u4e0e\u4f5c\u4e3a\u503c\u51fa\u73b0\u65f6\uff0c\u6211\u4eec\u53ef\u80fd\u9700\u8981\u4e0d\u540c\u7684\u5e8f\u5217\u5316\u7b56\u7565\u3002\u90a3\u4e48\uff0c\u8ba9\u6211\u4eec\u4e86\u89e3\u5982\u4f55\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"@JsonKey"})," \u6ce8\u91ca\u6765\u505a\u5230\u8fd9\u4e00\u70b9\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u8ba9\u6211\u4eec\u9996\u5148\u5b9a\u4e49\u5305\u542b\u4e24\u4e2a\u6210\u5458\u7684 ",(0,i.jsx)(n.code,{children:"Fruit"})," \u7c7b\uff0c\u5373 ",(0,i.jsx)(n.code,{children:"variety"})," \u548c ",(0,i.jsx)(n.code,{children:"name"})," \u3002\u6bcf\u5f53 ",(0,i.jsx)(n.code,{children:"Fruit"})," \u5bf9\u8c61\u4f5c\u4e3a ",(0,i.jsx)(n.code,{children:"Map"})," \u4e2d\u7684\u952e\u51fa\u73b0\u65f6\uff0c\u6211\u4eec\u90fd\u5e0c\u671b\u4f7f\u7528\u5b83\u7684\u540d\u79f0\u8fdb\u884c\u5e8f\u5217\u5316\u3002\u4f46\u662f\uff0c\u5f53\u5b83\u4f5c\u4e3a\u503c\u51fa\u73b0\u65f6\uff0c\u6211\u4eec\u5e0c\u671b\u5c06\u5176\u540d\u79f0\u4e0e\u54c1\u79cd\u4e00\u8d77\u4f7f\u7528\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'public class Fruit {\n    public String variety;\n\n    @JsonKey\n    public String name;\n\n    public Fruit(String variety, String name) {\n        this.variety = variety;\n        this.name = name;\n    }\n\n    @JsonValue\n    public String getFullName() {\n        return this.variety + " " + this.name;\n    }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\u73b0\u5728\uff0c\u6211\u4eec\u521d\u59cb\u5316 ",(0,i.jsx)(n.code,{children:"Fruit"})," \u7c7b\u7684\u4e24\u4e2a\u5b9e\u4f8b\u548c ",(0,i.jsx)(n.code,{children:"ObjectMapper"})," \u7c7b\u7684\u5355\u4e2a\u5b9e\u4f8b\u4ee5\u8fdb\u884c\u5e8f\u5217\u5316\uff0c\u7136\u540e\u9a8c\u8bc1\u5bf9\u8c61\u7684\u5e8f\u5217\u5316\u662f\u5426\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"fullName"})," \u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'private static final Fruit FRUIT1 = new Fruit("Alphonso", "Mango");\nprivate static final Fruit FRUIT2 = new Fruit("Black", "Grapes");\nprivate static final ObjectMapper OBJECT_MAPPER = new ObjectMapper();\n\n@Test\npublic void givenObject_WhenSerialize_ThenUseJsonValueForSerialization() throws JsonProcessingException {\n    String serializedValueForFruit1 = OBJECT_MAPPER.writeValueAsString(FRUIT1);\n    Assertions.assertEquals("\\"Alphonso Mango\\"", serializedValueForFruit1);\n    String serializedValueForFruit2 = OBJECT_MAPPER.writeValueAsString(FRUIT2);\n    Assertions.assertEquals("\\"Black Grapes\\"", serializedValueForFruit2);\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u6784\u9020\u4e00\u4e2a\u4ee5 ",(0,i.jsx)(n.code,{children:"Fruit"})," \u7c7b\u5b9e\u4f8b\u4f5c\u4e3a\u952e\u7684 ",(0,i.jsx)(n.code,{children:"selectionByFruit"})," \uff0c\u7136\u540e\u9a8c\u8bc1\u5e8f\u5217\u5316\u7684\u952e\u503c\u662f\u5426\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"@JsonKey"})," \u6ce8\u89e3\uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'@Test\npublic void givenMapWithObjectKeys_WhenSerialize_ThenUseJsonKeyForSerialization() throws JsonProcessingException {\n    // Given\n    Map<Fruit, String> selectionByFruit = new LinkedHashMap<>();\n    selectionByFruit.put(FRUIT1, "Hagrid");\n    selectionByFruit.put(FRUIT2, "Hercules");\n    // When\n    String serializedValue = OBJECT_MAPPER.writeValueAsString(selectionByFruit);\n    // Then\n    Assertions.assertEquals("{\\"Mango\\":\\"Hagrid\\",\\"Grapes\\":\\"Hercules\\"}", serializedValue);\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\u4ee5\u4e0a\uff0c\u6211\u4eec\u5df2\u7ecf\u6210\u529f\u5730\u6839\u636e\u5bf9\u8c61\u5728 ",(0,i.jsx)(n.code,{children:"Map"})," \u4e2d\u4f5c\u4e3a\u952e\u6216\u503c\u7684\u89d2\u8272\u6765\u5207\u6362\u5bf9\u8c61\u7684\u5e8f\u5217\u5316\u7b56\u7565\u3002"]}),"\n",(0,i.jsxs)(n.h3,{id:"mapobject-object-\u53cd\u5e8f\u5217\u5316",children:[(0,i.jsx)(n.code,{children:"Map<Object, Object>"})," \u53cd\u5e8f\u5217\u5316"]}),"\n",(0,i.jsx)(n.p,{children:"\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 Jackson \u7684 KeyDeserializer \u7c7b\u6765\u5b9e\u73b0\u590d\u6742\u7c7b\u578b\u4f5c\u4e3a\u952e\u7684 Map \uff0c\u5982\u4e0b\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'public class ClassWithAMap {\n    @JsonDeserialize(keyUsing = MyPairDeserializer.class)\n    private Map<MyPair, String> map;\n\n    @JsonCreator\n    public ClassWithAMap(@JsonProperty("map") Map<MyPair, String> map) {\n        this.map = map;\n    }\n \n    // public getters/setters omitted\n}\npublic class MyPairDeserializer extends KeyDeserializer {\n    @Override\n    public MyPair deserializeKey(String key, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n      return new MyPair(key);\n    }\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528readValue\u6d4b\u8bd5\u53cd\u5e8f\u5217\u5316\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'String jsonInput = "{\\"Abbott and Costello\\":\\"Comedy\\"}";\nClassWithAMap classWithMap = mapper.readValue(jsonInput, ClassWithAMap.class);\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\u6309\u6761\u4ef6\u5bf9\u5b57\u6bb5\u8fdb\u884c\u5e8f\u5217\u5316",children:"\u6309\u6761\u4ef6\u5bf9\u5b57\u6bb5\u8fdb\u884c\u5e8f\u5217\u5316"}),"\n",(0,i.jsx)(n.h3,{id:"jsonfilter",children:"@JsonFilter"}),"\n",(0,i.jsxs)(n.p,{children:["\u6211\u4eec\u5148\u5b9a\u4e49\u4e00\u4e2a\u5e26\u6ce8\u89e3 ",(0,i.jsx)(n.code,{children:"@JsonFilter"})," \u7684\u5b9e\u4f53\uff0c\u7136\u540e\u81ea\u5b9a\u4e49\u4e00\u4e2a ",(0,i.jsx)(n.code,{children:"PropertyFilter"})," \u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'@JsonFilter("myFilter")\npublic class MyDto {\n    private int intValue;\n\n    public MyDto() {\n        super();\n    }\n\n    public int getIntValue() {\n        return intValue;\n    }\n\n    public void setIntValue(int intValue) {\n        this.intValue = intValue;\n    }\n}\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'PropertyFilter theFilter = new SimpleBeanPropertyFilter() {\n   @Override\n   public void serializeAsField(Object pojo, JsonGenerator jgen, SerializerProvider provider, PropertyWriter writer) throws Exception {\n        if (include(writer)) {\n         (!writer.getName().equals("intValue")) {\n            writer.serializeAsField(pojo, jgen, provider);\n            return;\n        }\n        int intValue = ((MyDtoWithFilter) pojo).getIntValue();\n        if (intValue >= 0) {\n            writer.serializeAsField(pojo, jgen, provider);\n        }\n        } else if (!jgen.canOmitFields()) { // since 2.3\n            writer.serializeAsOmittedField(pojo, jgen, provider);\n        }\n    }\n   \n    @Override\n    protected boolean include(BeanPropertyWriter writer) {\n        return true;\n    }\n   \n    @Override\n    protected boolean include(PropertyWriter writer) {\n        return true;\n    }\n};\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'FilterProvider filters = new SimpleFilterProvider().addFilter("myFilter", theFilter);\nMyDto dtoObject = new MyDto();\ndtoObject.setIntValue(-1);\n\nObjectMapper mapper = new ObjectMapper();\nString dtoAsString = mapper.writer(filters).writeValueAsString(dtoObject);\nassertThat(dtoAsString, not(containsString("intValue")));\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u81ea\u5b9a\u4e49jsonserializer",children:"\u81ea\u5b9a\u4e49JsonSerializer"}),"\n",(0,i.jsxs)(n.p,{children:["\u5047\u8bbe\u6211\u4eec\u6709\u5982\u4e0b\u5b9e\u4f53\u4ee5\u53ca\u63a5\u53e3\u5b9a\u4e49\uff0c",(0,i.jsx)(n.code,{children:"Hidable#isHidden"})," \u4ee3\u8868\u662f\u5426\u9690\u85cf\u4fe1\u606f\uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'@JsonIgnoreProperties("hidden")\npublic interface Hidable {\n    boolean isHidden();\n}\n\npublic class Person implements Hidable {\n    private String name;\n    private Address address;\n    private boolean hidden;\n}\n\npublic class Address implements Hidable {\n    private String city;\n    private String country;\n    private boolean hidden;\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\u9996\u5148\u81ea\u5b9a\u4e49\u4e00\u4e2a ",(0,i.jsx)(n.code,{children:"HidableSerializer"})," \uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"public class HidableSerializer extends JsonSerializer<Hidable> {\n    private JsonSerializer<Object> defaultSerializer;\n\n    public HidableSerializer(JsonSerializer<Object> serializer) {\n        defaultSerializer = serializer;\n    }\n\n    @Override\n    public void serialize(Hidable value, JsonGenerator jgen, SerializerProvider provider)\n      throws IOException, JsonProcessingException {\n        if (value.isHidden())\n            return;\n        defaultSerializer.serialize(value, jgen, provider);\n    }\n\n    @Override\n    public boolean isEmpty(SerializerProvider provider, Hidable value) {\n        return (value == null || value.isHidden());\n    }\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u7136\u540e\u4f7f\u7528\u81ea\u5b9a\u4e49\u4e00\u4e2a ",(0,i.jsx)(n.code,{children:"BeanSerializerModifier"})," \uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"ObjectMapper mapper = new ObjectMapper();\nmapper.setSerializationInclusion(Include.NON_EMPTY);\nmapper.registerModule(new SimpleModule() {\n    @Override\n    public void setupModule(SetupContext context) {\n        super.setupModule(context);\n        context.addBeanSerializerModifier(new BeanSerializerModifier() {\n            @Override\n            public JsonSerializer<?> modifySerializer(\n                SerializationConfig config, BeanDescription desc, JsonSerializer<?> serializer) {\n                if (Hidable.class.isAssignableFrom(desc.getBeanClass())) {\n                    return new HidableSerializer((JsonSerializer<Object>) serializer);\n                }\n                return serializer;\n            }\n        });\n    }\n});\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u63a5\u4e0b\u6765\u6211\u4eec\u6784\u9020\u5bf9\u8c61\u8fdb\u884c\u5e8f\u5217\u5316\u8f93\u51fa\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'Address ad1 = new Address("tokyo", "jp", true);\nAddress ad2 = new Address("london", "uk", false);\nAddress ad3 = new Address("ny", "usa", false);\nPerson p1 = new Person("john", ad1, false);\nPerson p2 = new Person("tom", ad2, true);\nPerson p3 = new Person("adam", ad3, false);\n\nSystem.out.println(mapper.writeValueAsString(Arrays.asList(p1, p2, p3)));\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u8f93\u51faJSON\u4e3a\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'[\n    {\n        "name":"john"\n    },\n    {\n        "name":"adam",\n        "address":{\n            "city":"ny",\n            "country":"usa"\n        }\n    }\n]\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u6d4b\u8bd5\u7a0b\u5e8f\u5982\u4e0b\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'@Test\npublic void whenNotHidden_thenCorrect() throws JsonProcessingException {\n    Address ad = new Address("ny", "usa", false);\n    Person person = new Person("john", ad, false);\n    String result = mapper.writeValueAsString(person);\n\n    assertTrue(result.contains("name"));\n    assertTrue(result.contains("john"));\n    assertTrue(result.contains("address"));\n    assertTrue(result.contains("usa"));\n}\n@Test\npublic void whenAddressHidden_thenCorrect() throws JsonProcessingException {\n    Address ad = new Address("ny", "usa", true);\n    Person person = new Person("john", ad, false);\n    String result = mapper.writeValueAsString(person);\n\n    assertTrue(result.contains("name"));\n    assertTrue(result.contains("john"));\n    assertFalse(result.contains("address"));\n    assertFalse(result.contains("usa"));\n}\n'})}),"\n",(0,i.jsx)(n.h1,{id:"\u53c2\u8003\u8d44\u6599",children:"\u53c2\u8003\u8d44\u6599"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/FasterXML/jackson-docs",children:"GitHub - FasterXML/jackson-doc"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.baeldung.com/jackson",children:"Baeldung - jackson"})}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>l});var i=r(96540);const a={},s=i.createContext(a);function t(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);